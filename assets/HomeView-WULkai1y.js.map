{"version":3,"file":"HomeView-WULkai1y.js","sources":["../../src/components/navigation/AppTabs.vue","../../src/stores/ingredients.js","../../src/components/features/IngredientsList.vue","../../src/components/ui/MealTypeSelector.vue","../../src/components/ui/RecipeCard.vue","../../src/stores/recipes.js","../../src/composables/useRecipeGenerator.js","../../src/components/features/RecipeCreator.vue","../../src/components/features/SavedRecipesList.vue","../../src/components/ui/ShoppingOptions.vue","../../src/components/features/ShoppingListResult.vue","../../src/composables/useShoppingListGenerator.js","../../src/components/features/ShoppingList.vue","../../src/views/HomeView.vue"],"sourcesContent":["<template>\n  <nav class=\"tabs\" role=\"tablist\">\n    <ul class=\"tabs-list\">\n      <li class=\"tab\">\n        <button\n          id=\"recipe-creator-tab\"\n          :class=\"[\n            'tab-button',\n            { active: appStore.currentTab === 'recipe-creator' },\n          ]\"\n          role=\"tab\"\n          :aria-selected=\"appStore.currentTab === 'recipe-creator'\"\n          aria-controls=\"recipe-creator\"\n          @click=\"appStore.switchTab('recipe-creator')\"\n        >\n          <i class=\"fas fa-magic\"></i> Creador de Recetas\n        </button>\n      </li>\n      <li class=\"tab\">\n        <button\n          id=\"shopping-list-tab\"\n          :class=\"[\n            'tab-button',\n            { active: appStore.currentTab === 'shopping-list' },\n          ]\"\n          role=\"tab\"\n          :aria-selected=\"appStore.currentTab === 'shopping-list'\"\n          aria-controls=\"shopping-list\"\n          @click=\"appStore.switchTab('shopping-list')\"\n        >\n          <i class=\"fas fa-shopping-cart\"></i> Lista de Compras\n        </button>\n      </li>\n      <li class=\"tab\">\n        <button\n          class=\"tab-button\"\n          role=\"button\"\n          aria-label=\"Configuración de la aplicación\"\n          @click=\"showSettings\"\n        >\n          <i class=\"fas fa-cog\"></i> Configuración\n        </button>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script setup>\nimport { useAppStore } from \"@/stores/app\";\nimport { useApiStore } from \"@/stores/api\";\n\nconst appStore = useAppStore();\nconst apiStore = useApiStore();\n\nconst showSettings = () => {\n  const newKey = prompt(\"Ingresa nueva API Key de Gemini:\", apiStore.apiKey);\n  if (newKey && newKey.trim()) {\n    apiStore.setApiKey(newKey.trim());\n    alert(\"API Key actualizada correctamente\");\n  }\n};\n</script>\n\n<style scoped>\n.tabs {\n  display: flex;\n  background: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.tabs-list {\n  display: flex;\n  flex: 1;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.tab {\n  display: flex;\n  flex: 1;\n}\n\n.tab-button {\n  flex: 1;\n  padding: 15px 20px;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  font-size: 1rem;\n  color: #666;\n  transition: all 0.3s ease;\n  border-bottom: 3px solid transparent;\n}\n\n.tab-button:hover {\n  background: #e9ecef;\n  color: #333;\n}\n\n.tab-button.active {\n  color: #667eea;\n  border-bottom-color: #667eea;\n  background: white;\n}\n\n.tab-button i {\n  margin-right: 8px;\n}\n\n@media (max-width: 768px) {\n  .tabs-list {\n    flex-direction: column;\n  }\n}\n</style>\n","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\nimport { useLocalStorage } from \"@/composables/useLocalStorage\";\n\nexport const useIngredientsStore = defineStore(\"ingredients\", () => {\n  const { getItem, setItem } = useLocalStorage();\n\n  const ingredients = ref(getItem(\"inventory_items\", []));\n\n  const addIngredient = (ingredient) => {\n    const normalizedIngredient = ingredient.toLowerCase().trim();\n    if (\n      normalizedIngredient &&\n      !ingredients.value.includes(normalizedIngredient)\n    ) {\n      ingredients.value.push(normalizedIngredient);\n      setItem(\"inventory_items\", ingredients.value);\n    }\n  };\n\n  const removeIngredient = (index) => {\n    ingredients.value.splice(index, 1);\n    setItem(\"inventory_items\", ingredients.value);\n  };\n\n  const clearAllIngredients = () => {\n    ingredients.value = [];\n    setItem(\"inventory_items\", ingredients.value);\n  };\n\n  const categorizeIngredients = () => {\n    const categories = {\n      meats: [\n        \"pollo\",\n        \"carne\",\n        \"pescado\",\n        \"cerdo\",\n        \"ternera\",\n        \"atun\",\n        \"salmón\",\n      ],\n      vegetables: [\n        \"verduras\",\n        \"brócoli\",\n        \"zanahoria\",\n        \"espinaca\",\n        \"tomate\",\n        \"cebolla\",\n        \"pimiento\",\n        \"lechuga\",\n        \"calabacín\",\n      ],\n      carbs: [\n        \"arroz\",\n        \"pasta\",\n        \"pan\",\n        \"patata\",\n        \"patatas\",\n        \"quinoa\",\n        \"batata\",\n        \"harina\",\n        \"tortillas\",\n      ],\n      dairy: [\"leche\", \"queso\", \"yogurt\", \"manteca\", \"crema\"],\n      eggs: [\"huevos\", \"huevo\"],\n      fruits: [\n        \"manzana\",\n        \"plátano\",\n        \"naranja\",\n        \"frutas\",\n        \"fresa\",\n        \"uvas\",\n        \"kiwi\",\n        \"arándanos\",\n      ],\n      cereals: [\"avena\", \"cereales\", \"granola\"],\n      legumes: [\"lentejas\", \"garbanzos\", \"frijoles\", \"judías\"],\n      fats: [\"aceite\", \"aguacate\", \"nueces\", \"almendras\", \"aceitunas\"],\n    };\n\n    const categorized = {\n      meats: [],\n      vegetables: [],\n      carbs: [],\n      dairy: [],\n      eggs: [],\n      fruits: [],\n      cereals: [],\n      legumes: [],\n      fats: [],\n      others: [],\n    };\n\n    ingredients.value.forEach((ingredient) => {\n      let categorized_flag = false;\n      for (const [category, items] of Object.entries(categories)) {\n        if (items.includes(ingredient.toLowerCase())) {\n          categorized[category].push(ingredient);\n          categorized_flag = true;\n          break;\n        }\n      }\n      if (!categorized_flag) {\n        categorized.others.push(ingredient);\n      }\n    });\n\n    return categorized;\n  };\n\n  return {\n    ingredients,\n    addIngredient,\n    removeIngredient,\n    clearAllIngredients,\n    categorizeIngredients,\n  };\n});\n","<template>\n  <section class=\"inventory-section\">\n    <header class=\"section-header\">\n      <h3>Mis Ingredientes:</h3>\n      <button\n        class=\"clear-btn\"\n        :disabled=\"ingredientsStore.ingredients.length === 0\"\n        title=\"Limpiar todos los ingredientes\"\n        aria-label=\"Limpiar todos los ingredientes\"\n        @click=\"handleClearAll\"\n      >\n        <i class=\"fas fa-trash-alt\"></i> Limpiar Todo\n      </button>\n    </header>\n\n    <form class=\"input-form\" @submit.prevent=\"handleAddIngredient\">\n      <div class=\"input-group\">\n        <label for=\"inventoryItem\" class=\"sr-only\"> Agregar ingrediente </label>\n        <input\n          id=\"inventoryItem\"\n          v-model=\"newIngredient\"\n          type=\"text\"\n          placeholder=\"Ej: tomates, cebolla, pollo, arroz...\"\n          aria-label=\"Ingresa un ingrediente\"\n        />\n        <button\n          type=\"submit\"\n          :disabled=\"!newIngredient.trim()\"\n          aria-label=\"Agregar ingrediente\"\n        >\n          <i class=\"fas fa-plus\"></i> Agregar\n        </button>\n      </div>\n    </form>\n\n    <ul class=\"inventory-list\" role=\"list\">\n      <li v-if=\"ingredientsStore.ingredients.length === 0\" class=\"empty-state\">\n        <p>\n          No hay ingredientes agregados. Agrega algunos ingredientes que tienes\n          disponibles.\n        </p>\n      </li>\n\n      <li\n        v-for=\"(ingredient, index) in ingredientsStore.ingredients\"\n        :key=\"`${ingredient}-${index}`\"\n        class=\"inventory-item\"\n        role=\"listitem\"\n      >\n        <span class=\"ingredient-name\">{{ ingredient }}</span>\n        <button\n          class=\"remove-item\"\n          :aria-label=\"`Eliminar ${ingredient}`\"\n          title=\"Eliminar ingrediente\"\n          @click=\"ingredientsStore.removeIngredient(index)\"\n        >\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useIngredientsStore } from \"@/stores/ingredients\";\n\nconst ingredientsStore = useIngredientsStore();\nconst newIngredient = ref(\"\");\n\nconst handleAddIngredient = () => {\n  if (newIngredient.value.trim()) {\n    ingredientsStore.addIngredient(newIngredient.value.trim());\n    newIngredient.value = \"\";\n  }\n};\n\nconst handleClearAll = () => {\n  if (\n    confirm(\"¿Estás seguro de que quieres eliminar todos los ingredientes?\")\n  ) {\n    ingredientsStore.clearAllIngredients();\n  }\n};\n</script>\n\n<style scoped>\n.inventory-section {\n  background: #f8f9fa;\n  padding: 20px;\n  border-radius: 10px;\n  border: 1px solid #e9ecef;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.section-header h3 {\n  color: #333;\n  margin: 0;\n  font-size: 1.2rem;\n}\n\n.clear-btn {\n  padding: 8px 15px;\n  background: #dc3545;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.clear-btn:hover:not(:disabled) {\n  background: #c82333;\n  transform: translateY(-1px);\n}\n\n.clear-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.clear-btn i {\n  font-size: 0.8rem;\n}\n\n.input-form {\n  margin-bottom: 20px;\n}\n\n.input-group {\n  display: flex;\n  gap: 10px;\n}\n\n.input-group input {\n  flex: 1;\n  padding: 12px 15px;\n  border: 2px solid #e9ecef;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n}\n\n.input-group input:focus {\n  outline: none;\n  border-color: #667eea;\n}\n\n.input-group button {\n  padding: 12px 20px;\n  background: #667eea;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background 0.3s ease;\n}\n\n.input-group button:hover:not(:disabled) {\n  background: #5a6fd8;\n}\n\n.input-group button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.inventory-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  min-height: 50px;\n  padding: 15px;\n  background: white;\n  border-radius: 8px;\n  border: 2px dashed #dee2e6;\n  list-style: none;\n  margin: 0;\n}\n\n.empty-state {\n  width: 100%;\n  text-align: center;\n  color: #666;\n  font-style: italic;\n}\n\n.empty-state p {\n  margin: 20px 0;\n}\n\n.inventory-item {\n  background: #667eea;\n  color: white;\n  padding: 8px 15px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n}\n\n.inventory-item:hover {\n  background: #5a6fd8;\n  transform: translateY(-1px);\n}\n\n.ingredient-name {\n  text-transform: capitalize;\n}\n\n.remove-item {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.8rem;\n  transition: background 0.3s ease;\n}\n\n.remove-item:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n@media (max-width: 768px) {\n  .section-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .input-group {\n    flex-direction: column;\n  }\n}\n</style>\n","<template>\n  <section class=\"meal-type-section\">\n    <h3>Tipo de comida:</h3>\n\n    <div class=\"meal-buttons\" role=\"group\" aria-label=\"Tipo de comida\">\n      <button\n        v-for=\"meal in mealTypes\"\n        :key=\"meal.value\"\n        :class=\"['meal-btn', { selected: modelValue === meal.value }]\"\n        :data-meal=\"meal.value\"\n        role=\"radio\"\n        :aria-checked=\"modelValue === meal.value\"\n        @click=\"selectMeal(meal.value)\"\n      >\n        <i :class=\"meal.icon\"></i>\n\n        {{ meal.label }}\n      </button>\n    </div>\n  </section>\n</template>\n\n<script setup>\nconst props = defineProps({\n  modelValue: {\n    type: String,\n\n    default: \"\",\n  },\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst mealTypes = [\n  { value: \"desayuno\", label: \"Desayuno\", icon: \"fas fa-sun\" },\n\n  { value: \"almuerzo\", label: \"Almuerzo\", icon: \"fas fa-utensils\" },\n\n  { value: \"merienda\", label: \"Merienda\", icon: \"fas fa-cookie\" },\n\n  { value: \"cena\", label: \"Cena\", icon: \"fas fa-moon\" },\n];\n\nconst selectMeal = (mealType) => {\n  emit(\"update:modelValue\", mealType);\n};\n</script>\n\n<style scoped>\n.meal-type-section h3 {\n  margin-bottom: 15px;\n\n  color: #333;\n\n  font-size: 1.2rem;\n}\n\n.meal-buttons {\n  display: grid;\n\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n\n  gap: 15px;\n}\n\n.meal-btn {\n  padding: 15px 20px;\n\n  border: 2px solid #e9ecef;\n\n  background: white;\n\n  border-radius: 10px;\n\n  cursor: pointer;\n\n  transition: all 0.3s ease;\n\n  font-size: 1rem;\n\n  color: #666;\n\n  text-align: center;\n}\n\n.meal-btn:hover {\n  border-color: #667eea;\n\n  color: #667eea;\n\n  transform: translateY(-2px);\n}\n\n.meal-btn.selected {\n  background: #667eea;\n\n  color: white;\n\n  border-color: #667eea;\n}\n\n.meal-btn i {\n  display: block;\n\n  font-size: 1.5rem;\n\n  margin-bottom: 8px;\n}\n\n@media (max-width: 768px) {\n  .meal-buttons {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 480px) {\n  .meal-buttons {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","<template>\n  <article class=\"recipe-card\">\n    <header class=\"recipe-header\">\n      <h3>\n        <i :class=\"mealIcon\"></i>\n\n        {{ recipe.nombre }}\n      </h3>\n\n      <p>\n        <strong>Tipo:</strong>\n\n        {{ mealTypeLabel }}\n      </p>\n    </header>\n\n    <div class=\"recipe-info\">\n      <div class=\"info-item\">\n        <i class=\"fas fa-clock\"></i>\n\n        <strong>Tiempo</strong>\n\n        <span>{{ recipe.tiempo }}</span>\n      </div>\n\n      <div class=\"info-item\">\n        <i class=\"fas fa-users\"></i>\n\n        <strong>Porciones</strong>\n\n        <span>{{ recipe.porciones }}</span>\n      </div>\n\n      <div class=\"info-item\">\n        <i class=\"fas fa-chart-line\"></i>\n\n        <strong>Complejidad</strong>\n\n        <span>{{ recipe.complejidad }}</span>\n      </div>\n    </div>\n\n    <section class=\"ingredients-section\">\n      <h4><i class=\"fas fa-list\"></i> Ingredientes:</h4>\n\n      <div class=\"ingredients-list\">\n        <ul>\n          <li v-for=\"ingredient in recipe.ingredientes\" :key=\"ingredient\">\n            {{ ingredient }}\n          </li>\n        </ul>\n      </div>\n    </section>\n\n    <section class=\"instructions-section\">\n      <h4><i class=\"fas fa-tasks\"></i> Instrucciones:</h4>\n\n      <div class=\"instructions-list\">\n        <ol>\n          <li v-for=\"instruction in recipe.instrucciones\" :key=\"instruction\">\n            {{ instruction }}\n          </li>\n        </ol>\n      </div>\n    </section>\n\n    <section v-if=\"recipe.consejos\" class=\"tips-section\">\n      <h4><i class=\"fas fa-lightbulb\"></i> Consejos:</h4>\n\n      <div class=\"tips-content\">\n        <p>{{ recipe.consejos }}</p>\n      </div>\n    </section>\n  </article>\n</template>\n\n<script setup>\nimport { computed } from \"vue\";\n\nconst props = defineProps({\n  recipe: {\n    type: Object,\n\n    required: true,\n  },\n\n  mealType: {\n    type: String,\n\n    required: true,\n  },\n});\n\nconst mealIcons = {\n  desayuno: \"fas fa-sun\",\n\n  almuerzo: \"fas fa-utensils\",\n\n  merienda: \"fas fa-cookie\",\n\n  cena: \"fas fa-moon\",\n};\n\nconst mealLabels = {\n  desayuno: \"Desayuno\",\n\n  almuerzo: \"Almuerzo\",\n\n  merienda: \"Merienda\",\n\n  cena: \"Cena\",\n};\n\nconst mealIcon = computed(() => mealIcons[props.mealType] || \"fas fa-utensils\");\n\nconst mealTypeLabel = computed(\n  () => mealLabels[props.mealType] || props.mealType\n);\n</script>\n\n<style scoped>\n.recipe-card {\n  background: #f8f9fa;\n\n  border-radius: 10px;\n\n  padding: 25px;\n\n  border-left: 5px solid #667eea;\n\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.recipe-header h3 {\n  color: #333;\n\n  margin-bottom: 15px;\n\n  font-size: 1.4rem;\n\n  display: flex;\n\n  align-items: center;\n\n  gap: 10px;\n}\n\n.recipe-header p {\n  color: #666;\n\n  margin-bottom: 20px;\n}\n\n.recipe-info {\n  display: grid;\n\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n\n  gap: 15px;\n\n  margin: 20px 0;\n\n  padding: 15px;\n\n  background: white;\n\n  border-radius: 8px;\n}\n\n.info-item {\n  text-align: center;\n\n  padding: 10px;\n}\n\n.info-item i {\n  font-size: 1.5rem;\n\n  color: #667eea;\n\n  margin-bottom: 8px;\n\n  display: block;\n}\n\n.info-item strong {\n  display: block;\n\n  color: #333;\n\n  margin-bottom: 5px;\n\n  font-size: 0.9rem;\n}\n\n.info-item span {\n  color: #666;\n\n  font-size: 0.9rem;\n}\n\n.ingredients-section,\n.instructions-section,\n.tips-section {\n  margin: 20px 0;\n}\n\n.ingredients-section h4,\n.instructions-section h4,\n.tips-section h4 {\n  color: #667eea;\n\n  margin-bottom: 15px;\n\n  font-size: 1.2rem;\n\n  display: flex;\n\n  align-items: center;\n\n  gap: 8px;\n}\n\n.ingredients-list,\n.instructions-list,\n.tips-content {\n  background: white;\n\n  padding: 15px;\n\n  border-radius: 8px;\n}\n\n.ingredients-list ul,\n.instructions-list ol {\n  padding-left: 20px;\n\n  margin: 0;\n}\n\n.ingredients-list li,\n.instructions-list li {\n  margin-bottom: 8px;\n\n  line-height: 1.5;\n\n  color: #333;\n}\n\n.tips-content p {\n  color: #333;\n\n  line-height: 1.6;\n\n  margin: 0;\n}\n\n@media (max-width: 768px) {\n  .recipe-info {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 480px) {\n  .recipe-info {\n    grid-template-columns: 1fr;\n  }\n\n  .recipe-card {\n    padding: 20px;\n  }\n}\n</style>\n","import { defineStore } from \"pinia\";\nimport { ref } from \"vue\";\nimport { useLocalStorage } from \"@/composables/useLocalStorage\";\n\nexport const useRecipesStore = defineStore(\"recipes\", () => {\n  const { getItem, setItem } = useLocalStorage();\n\n  const savedRecipes = ref(getItem(\"saved_recipes\", []));\n  const selectedRecipesForShopping = ref([]);\n\n  const saveRecipe = (recipe, type = \"individual\") => {\n    const recipeData = {\n      id: Date.now(),\n      type,\n      data: recipe,\n      createdAt: new Date().toISOString(),\n    };\n\n    savedRecipes.value.push(recipeData);\n    setItem(\"saved_recipes\", savedRecipes.value);\n  };\n\n  const deleteRecipe = (recipeId) => {\n    savedRecipes.value = savedRecipes.value.filter(\n      (recipe) => recipe.id !== recipeId\n    );\n    selectedRecipesForShopping.value = selectedRecipesForShopping.value.filter(\n      (id) => id !== recipeId\n    );\n    setItem(\"saved_recipes\", savedRecipes.value);\n  };\n\n  const clearAllRecipes = () => {\n    savedRecipes.value = [];\n    selectedRecipesForShopping.value = [];\n    setItem(\"saved_recipes\", savedRecipes.value);\n  };\n\n  const toggleRecipeSelection = (recipeId) => {\n    const index = selectedRecipesForShopping.value.indexOf(recipeId);\n    if (index > -1) {\n      selectedRecipesForShopping.value.splice(index, 1);\n    } else {\n      selectedRecipesForShopping.value.push(recipeId);\n    }\n  };\n\n  return {\n    savedRecipes,\n    selectedRecipesForShopping,\n    saveRecipe,\n    deleteRecipe,\n    clearAllRecipes,\n    toggleRecipeSelection,\n  };\n});\n","import { ref } from \"vue\";\nimport { useApiStore } from \"@/stores/api\";\nimport { useAppStore } from \"@/stores/app\";\nimport { useRecipesStore } from \"@/stores/recipes\";\nimport { useIngredientsStore } from \"@/stores/ingredients\";\n\nexport function useRecipeGenerator() {\n  const apiStore = useApiStore();\n  const appStore = useAppStore();\n  const recipesStore = useRecipesStore();\n  const ingredientsStore = useIngredientsStore();\n\n  const selectedMealType = ref(\"\");\n  const generatedRecipe = ref(null);\n\n  const generateRecipe = async () => {\n    if (ingredientsStore.ingredients.length === 0) {\n      throw new Error(\n        \"Por favor, agrega ingredientes a tu inventario para generar una receta.\"\n      );\n    }\n\n    if (!selectedMealType.value) {\n      throw new Error(\n        \"Por favor, selecciona un tipo de comida antes de generar la receta.\"\n      );\n    }\n\n    appStore.setLoading(true);\n\n    try {\n      const categorized = ingredientsStore.categorizeIngredients();\n      const allIngredients = ingredientsStore.ingredients.join(\", \");\n\n      let mealTypeGuidelines = \"\";\n      switch (selectedMealType.value) {\n        case \"desayuno\":\n          mealTypeGuidelines =\n            \"Para el desayuno, genera una receta típica y adecuada para la primera comida del día. Evita explícitamente el uso de carnes pesadas (como pollo, carne de res) o pescados como ingrediente principal, y preparaciones muy elaboradas o que requieran mucho tiempo. Prioriza opciones como cereales, huevos, frutas, o lácteos.\";\n          break;\n        case \"merienda\":\n          mealTypeGuidelines =\n            \"Para la merienda, debe ser una opción ligera, rápida y energizante para media tarde. Evita platos principales o que requieran cocción compleja.\";\n          break;\n        case \"almuerzo\":\n          mealTypeGuidelines =\n            \"Para el almuerzo, genera una comida principal y sustanciosa. Debe ser una receta completa que pueda incluir proteínas, carbohidratos y vegetales.\";\n          break;\n        case \"cena\":\n          mealTypeGuidelines =\n            \"Para la cena, genera una comida balanceada, nutritiva y adecuada para la última comida del día. Puede ser ligeramente más ligera que el almuerzo.\";\n          break;\n      }\n\n      const prompt = `\n        Eres un chef experto y nutricionista con un profundo conocimiento de dietas balanceadas y costumbres culinarias de la región del Cono Sur (Argentina, Uruguay, Chile, Paraguay y Brasil). Tu objetivo es combinar la tradición culinaria local con principios nutricionales modernos para crear recetas y consejos que sean saludables, deliciosos y culturalmente apropiados.\n        Necesito que generes una única receta para la comida de ${selectedMealType.value}.\n\n        Los ingredientes que tengo disponibles en mi inventario son: ${allIngredients}.\n        ${mealTypeGuidelines}\n\n        Para la receta, proporciona:\n        - **Nombre del plato**\n        - **Lista completa de ingredientes** con cantidades aproximadas (puedes agregar ingredientes básicos como sal, pimienta, aceite, especias, si son necesarios y no están explícitamente en la lista original).\n        - **Instrucciones** paso a paso, claras y concisas.\n        - **Tiempo** de preparación (ej. \"20 minutos\").\n        - **Porciones** (ej. \"1 persona\", \"2 personas\", \"6 personas\", etc).\n        - **Nivel de complejidad** (Fácil/Intermedio/Difícil).\n        - **Consejos** adicionales (opcional, uno o varios si aplica).\n\n        Asegúrate de que la receta sea coherente, balanceada, nutritiva y que use los ingredientes de mi inventario de manera inteligente, no es necesario usar todos los ingredientes.\n        Si un ingrediente es esencial para el tipo de comida y no está en el inventario, puedes incluirlo pero prioriza el uso de lo que tengo.\n\n        IMPORTANTE: Responde ÚNICAMENTE con un JSON válido, sin texto adicional antes o después. No incluyas explicaciones o texto introductorio/final. Usa esta estructura exacta:\n        {\n            \"nombre\": \"Nombre del plato\",\n            \"ingredientes\": [\"ingrediente 1 - cantidad\", \"ingrediente 2 - cantidad\"],\n            \"instrucciones\": [\"paso 1\", \"paso 2\"],\n            \"tiempo\": \"X minutos\",\n            \"porciones\": \"X personas\",\n            \"complejidad\": \"Fácil\",\n            \"consejos\": \"Consejos adicionales (opcional)\"\n        }\n      `;\n\n      const response = await apiStore.callGeminiAPI(prompt);\n\n      // Limpiar la respuesta\n      let cleanResponse = response.trim();\n      if (cleanResponse.startsWith(\"```json\")) {\n        cleanResponse = cleanResponse\n          .replace(/```json\\n?/, \"\")\n          .replace(/\\n?```$/, \"\");\n      }\n      if (cleanResponse.startsWith(\"```\")) {\n        cleanResponse = cleanResponse\n          .replace(/```\\n?/, \"\")\n          .replace(/\\n?```$/, \"\");\n      }\n\n      const recipe = JSON.parse(cleanResponse);\n      recipe.id = Date.now().toString();\n      recipe.mealType = selectedMealType.value;\n\n      generatedRecipe.value = recipe;\n      recipesStore.saveRecipe(recipe);\n\n      return recipe;\n    } catch (error) {\n      console.error(\"Error al generar la receta:\", error);\n      throw error;\n    } finally {\n      appStore.setLoading(false);\n    }\n  };\n\n  return {\n    selectedMealType,\n    generatedRecipe,\n    generateRecipe,\n  };\n}\n","<template>\n  <div class=\"recipe-creator\">\n    <header class=\"section-header\">\n      <h2><i class=\"fas fa-magic\"></i> Creador de Recetas Inteligente</h2>\n      <p>Administra tus ingredientes y genera recetas personalizadas con IA</p>\n    </header>\n\n    <IngredientsList />\n\n    <MealTypeSelector\n      v-model=\"recipeGenerator.selectedMealType.value\"\n      class=\"meal-type-section\"\n    />\n\n    <button\n      class=\"generate-btn\"\n      :disabled=\"!canGenerateRecipe || appStore.isLoading\"\n      aria-label=\"Generar receta\"\n      @click=\"handleGenerateRecipe\"\n    >\n      <i class=\"fas fa-magic\"></i>\n      {{ appStore.isLoading ? \"Generando...\" : \"Generar Receta\" }}\n    </button>\n\n    <RecipeCard\n      v-if=\"recipeGenerator.generatedRecipe.value\"\n      :recipe=\"recipeGenerator.generatedRecipe.value\"\n      :meal-type=\"recipeGenerator.selectedMealType.value\"\n      class=\"recipe-result\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { computed } from \"vue\";\nimport IngredientsList from \"@/components/features/IngredientsList.vue\";\nimport MealTypeSelector from \"@/components/ui/MealTypeSelector.vue\";\nimport RecipeCard from \"@/components/ui/RecipeCard.vue\";\nimport { useRecipeGenerator } from \"@/composables/useRecipeGenerator\";\nimport { useIngredientsStore } from \"@/stores/ingredients\";\nimport { useAppStore } from \"@/stores/app\";\n\nconst recipeGenerator = useRecipeGenerator();\nconst ingredientsStore = useIngredientsStore();\nconst appStore = useAppStore();\n\nconst canGenerateRecipe = computed(\n  () =>\n    ingredientsStore.ingredients.length > 0 &&\n    recipeGenerator.selectedMealType.value\n);\n\nconst handleGenerateRecipe = async () => {\n  try {\n    await recipeGenerator.generateRecipe();\n  } catch (error) {\n    alert(error.message);\n  }\n};\n</script>\n\n<style scoped>\n.recipe-creator {\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n}\n\n.section-header h2 {\n  color: #333;\n  margin-bottom: 10px;\n  font-size: 1.8rem;\n}\n\n.section-header p {\n  color: #666;\n  margin-bottom: 0;\n  font-size: 1.1rem;\n}\n\n.meal-type-section {\n  margin: 25px 0;\n}\n\n.generate-btn {\n  width: 100%;\n  padding: 15px 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n  margin: 20px 0;\n}\n\n.generate-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n}\n\n.generate-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.generate-btn i {\n  margin-right: 10px;\n}\n\n.recipe-result {\n  margin-top: 30px;\n  animation: fadeIn 0.5s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>\n","<template>\n  <section class=\"recipe-selection\">\n    <header class=\"section-header\">\n      <h3>Recetas Guardadas:</h3>\n      <button\n        class=\"clear-btn\"\n        :disabled=\"recipesStore.savedRecipes.length === 0\"\n        title=\"Eliminar todas las recetas guardadas\"\n        aria-label=\"Eliminar todas las recetas guardadas\"\n        @click=\"handleClearAll\"\n      >\n        <i class=\"fas fa-trash-alt\"></i> Eliminar Todas\n      </button>\n    </header>\n\n    <ul class=\"saved-recipes-list\">\n      <li v-if=\"recipesStore.savedRecipes.length === 0\" class=\"no-recipes\">\n        <p>No hay recetas guardadas. Genera algunas recetas primero.</p>\n      </li>\n\n      <li\n        v-for=\"recipe in recipesStore.savedRecipes\"\n        :key=\"recipe.id\"\n        :class=\"['recipe-item', { selected: isSelected(recipe.id) }]\"\n        :data-recipe-id=\"recipe.id\"\n      >\n        <div class=\"recipe-info-compact\">\n          <div class=\"recipe-name\">{{ recipe.data.nombre }}</div>\n          <div class=\"recipe-meta\">\n            <i class=\"fas fa-calendar\"></i>\n            {{ formatDate(recipe.createdAt) }} • {{ recipe.data.tiempo }} •\n            {{ recipe.data.porciones }}\n          </div>\n        </div>\n\n        <div class=\"recipe-actions\">\n          <button\n            class=\"recipe-select-btn\"\n            :aria-label=\"\n              isSelected(recipe.id)\n                ? 'Deseleccionar receta'\n                : 'Seleccionar receta'\n            \"\n            @click=\"recipesStore.toggleRecipeSelection(recipe.id)\"\n          >\n            {{ isSelected(recipe.id) ? \"Deseleccionar\" : \"Seleccionar\" }}\n          </button>\n          <button\n            class=\"recipe-delete-btn\"\n            title=\"Eliminar receta\"\n            :aria-label=\"`Eliminar receta ${recipe.data.nombre}`\"\n            @click=\"handleDeleteRecipe(recipe.id)\"\n          >\n            <i class=\"fas fa-trash\"></i>\n          </button>\n        </div>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script setup>\nimport { useRecipesStore } from \"@/stores/recipes\";\n\nconst recipesStore = useRecipesStore();\n\nconst isSelected = (recipeId) => {\n  return recipesStore.selectedRecipesForShopping.includes(recipeId);\n};\n\nconst formatDate = (dateString) => {\n  return new Date(dateString).toLocaleDateString(\"es-ES\");\n};\n\nconst handleDeleteRecipe = (recipeId) => {\n  const recipe = recipesStore.savedRecipes.find((r) => r.id === recipeId);\n  if (\n    confirm(\n      `¿Estás seguro de que quieres eliminar la receta \"${recipe?.data.nombre}\"?`\n    )\n  ) {\n    recipesStore.deleteRecipe(recipeId);\n  }\n};\n\nconst handleClearAll = () => {\n  if (\n    confirm(\n      \"¿Estás seguro de que quieres eliminar todas las recetas guardadas?\"\n    )\n  ) {\n    recipesStore.clearAllRecipes();\n  }\n};\n</script>\n\n<style scoped>\n.recipe-selection {\n  margin-bottom: 25px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.section-header h3 {\n  color: #333;\n  margin: 0;\n  font-size: 1.2rem;\n}\n\n.clear-btn {\n  padding: 8px 15px;\n  background: #dc3545;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.clear-btn:hover:not(:disabled) {\n  background: #c82333;\n  transform: translateY(-1px);\n}\n\n.clear-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.clear-btn i {\n  font-size: 0.8rem;\n}\n\n.saved-recipes-list {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-height: 300px;\n  overflow-y: auto;\n  padding: 15px;\n  background: white;\n  border-radius: 8px;\n  border: 2px solid #e9ecef;\n  list-style: none;\n  margin: 0;\n}\n\n.no-recipes {\n  text-align: center;\n  color: #666;\n  font-style: italic;\n  padding: 20px;\n}\n\n.no-recipes p {\n  margin: 0;\n}\n\n.recipe-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #dee2e6;\n  transition: all 0.3s ease;\n}\n\n.recipe-item:hover {\n  background: #e9ecef;\n  transform: translateY(-1px);\n}\n\n.recipe-item.selected {\n  background: #667eea;\n  color: white;\n  border-color: #5a6fd8;\n}\n\n.recipe-info-compact {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.recipe-name {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n\n.recipe-meta {\n  font-size: 0.85rem;\n  opacity: 0.8;\n}\n\n.recipe-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.recipe-select-btn {\n  padding: 6px 12px;\n  background: #667eea;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  transition: background 0.3s ease;\n}\n\n.recipe-select-btn:hover {\n  background: #5a6fd8;\n}\n\n.recipe-item.selected .recipe-select-btn {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.recipe-item.selected .recipe-select-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n.recipe-delete-btn {\n  padding: 6px 8px;\n  background: #dc3545;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: background 0.3s ease;\n}\n\n.recipe-delete-btn:hover {\n  background: #c82333;\n}\n\n@media (max-width: 768px) {\n  .section-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .recipe-actions {\n    flex-direction: column;\n    gap: 4px;\n  }\n\n  .recipe-select-btn,\n  .recipe-delete-btn {\n    font-size: 0.8rem;\n    padding: 4px 8px;\n  }\n}\n</style>\n","<template>\n  <section class=\"shopping-options\">\n    <h3>Opciones de Lista:</h3>\n    <div role=\"group\" aria-labelledby=\"shopping-options-heading\">\n      <div class=\"option-group\">\n        <label class=\"checkbox-label\">\n          <input\n            type=\"checkbox\"\n            :checked=\"includeBasics\"\n            @change=\"$emit('update:includeBasics', $event.target.checked)\"\n          />\n          <span class=\"checkmark\"></span>\n          Incluir ingredientes básicos (sal, aceite, especias)\n        </label>\n      </div>\n\n      <div class=\"option-group\">\n        <label class=\"checkbox-label\">\n          <input\n            type=\"checkbox\"\n            :checked=\"groupByCategory\"\n            @change=\"$emit('update:groupByCategory', $event.target.checked)\"\n          />\n          <span class=\"checkmark\"></span>\n          Agrupar por categorías (carnes, vegetales, etc.)\n        </label>\n      </div>\n\n      <div class=\"option-group\">\n        <label class=\"checkbox-label\">\n          <input\n            type=\"checkbox\"\n            :checked=\"excludeInventory\"\n            @change=\"$emit('update:excludeInventory', $event.target.checked)\"\n          />\n          <span class=\"checkmark\"></span>\n          Excluir ingredientes que ya tengo\n        </label>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\ndefineProps({\n  includeBasics: {\n    type: Boolean,\n    default: true,\n  },\n  groupByCategory: {\n    type: Boolean,\n    default: true,\n  },\n  excludeInventory: {\n    type: Boolean,\n    default: true,\n  },\n});\n\ndefineEmits([\n  \"update:includeBasics\",\n  \"update:groupByCategory\",\n  \"update:excludeInventory\",\n]);\n</script>\n\n<style scoped>\n.shopping-options h3 {\n  margin-bottom: 15px;\n  color: #333;\n  font-size: 1.2rem;\n}\n\n.option-group {\n  margin-bottom: 15px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  font-size: 1rem;\n  color: #333;\n  user-select: none;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  display: none;\n}\n\n.checkmark {\n  width: 20px;\n  height: 20px;\n  background: white;\n  border: 2px solid #dee2e6;\n  border-radius: 4px;\n  margin-right: 12px;\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.checkbox-label input[type=\"checkbox\"]:checked + .checkmark {\n  background: #667eea;\n  border-color: #667eea;\n}\n\n.checkbox-label input[type=\"checkbox\"]:checked + .checkmark::after {\n  content: \"✓\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.checkbox-label:hover .checkmark {\n  border-color: #667eea;\n}\n</style>\n","<template>\n  <div class=\"shopping-list-result\">\n    <div class=\"shopping-summary\">\n      <h3><i class=\"fas fa-chart-pie\"></i> Resumen de tu Lista de Compras</h3>\n      <div class=\"summary-stats\">\n        <div class=\"stat-item\">\n          <span class=\"stat-number\">{{ shoppingList.resumen.totalItems }}</span>\n          <div class=\"stat-label\">Productos totales</div>\n        </div>\n        <div v-if=\"groupByCategory\" class=\"stat-item\">\n          <span class=\"stat-number\">{{ shoppingList.resumen.categorias }}</span>\n          <div class=\"stat-label\">Categorías</div>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-number\">{{\n            shoppingList.resumen.recetasIncluidas\n          }}</span>\n          <div class=\"stat-label\">Recetas incluidas</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"shopping-list-card\">\n      <h3>\n        <i class=\"fas fa-list-alt\"></i> Lista de Compras{{\n          groupByCategory ? \" por Categorías\" : \"\"\n        }}\n      </h3>\n\n      <!-- Grouped by categories -->\n      <div v-if=\"groupByCategory && shoppingList.categorias\">\n        <div\n          v-for=\"[key, categoria] in Object.entries(shoppingList.categorias)\"\n          :key=\"key\"\n          class=\"shopping-category\"\n        >\n          <h4 v-if=\"categoria.items && categoria.items.length > 0\">\n            <i :class=\"categoria.icono\"></i> {{ categoria.nombre }}\n          </h4>\n          <div\n            v-if=\"categoria.items && categoria.items.length > 0\"\n            class=\"shopping-items\"\n          >\n            <div\n              v-for=\"(item, index) in categoria.items\"\n              :key=\"`${key}-${index}`\"\n              :class=\"[\n                'shopping-item',\n                { checked: checkedItems.has(`${key}-${index}`) },\n              ]\"\n              :data-item=\"`${key}-${index}`\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"shopping-checkbox\"\n                :checked=\"checkedItems.has(`${key}-${index}`)\"\n                @change=\"toggleItem(`${key}-${index}`)\"\n              />\n              <span class=\"shopping-item-text\">{{ item }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Simple list -->\n      <div v-else-if=\"shoppingList.items\" class=\"shopping-category\">\n        <div class=\"shopping-items\">\n          <div\n            v-for=\"(item, index) in shoppingList.items\"\n            :key=\"`item-${index}`\"\n            :class=\"[\n              'shopping-item',\n              { checked: checkedItems.has(`item-${index}`) },\n            ]\"\n            :data-item=\"`item-${index}`\"\n          >\n            <input\n              type=\"checkbox\"\n              class=\"shopping-checkbox\"\n              :checked=\"checkedItems.has(`item-${index}`)\"\n              @change=\"toggleItem(`item-${index}`)\"\n            />\n            <span class=\"shopping-item-text\">{{ item }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"shopping-actions\">\n        <button class=\"action-btn primary\" @click=\"exportShoppingList\">\n          <i class=\"fas fa-download\"></i> Descargar Lista\n        </button>\n        <button class=\"action-btn secondary\" @click=\"$emit('clear')\">\n          <i class=\"fas fa-trash\"></i> Limpiar Lista\n        </button>\n        <button class=\"action-btn success\" @click=\"markAllCompleted\">\n          <i class=\"fas fa-check-double\"></i> Marcar Todo\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\n\nconst props = defineProps({\n  shoppingList: {\n    type: Object,\n    required: true,\n  },\n  groupByCategory: {\n    type: Boolean,\n    default: true,\n  },\n});\n\ndefineEmits([\"clear\"]);\n\nconst checkedItems = ref(new Set());\n\nconst toggleItem = (itemId) => {\n  if (checkedItems.value.has(itemId)) {\n    checkedItems.value.delete(itemId);\n  } else {\n    checkedItems.value.add(itemId);\n  }\n};\n\nconst markAllCompleted = () => {\n  const allItems = getAllItemIds();\n  allItems.forEach((itemId) => checkedItems.value.add(itemId));\n};\n\nconst getAllItemIds = () => {\n  const items = [];\n\n  if (props.groupByCategory && props.shoppingList.categorias) {\n    Object.entries(props.shoppingList.categorias).forEach(\n      ([key, categoria]) => {\n        if (categoria.items) {\n          categoria.items.forEach((_, index) => {\n            items.push(`${key}-${index}`);\n          });\n        }\n      }\n    );\n  } else if (props.shoppingList.items) {\n    props.shoppingList.items.forEach((_, index) => {\n      items.push(`item-${index}`);\n    });\n  }\n\n  return items;\n};\n\nconst exportShoppingList = () => {\n  let exportText = \"=== LISTA DE COMPRAS ===\\n\\n\";\n  exportText += `Generada el: ${new Date().toLocaleDateString()}\\n`;\n  exportText += `Total de productos: ${props.shoppingList.resumen.totalItems}\\n`;\n  exportText += `Productos completados: ${checkedItems.value.size}\\n\\n`;\n\n  exportText += \"PRODUCTOS PENDIENTES:\\n\";\n\n  if (props.groupByCategory && props.shoppingList.categorias) {\n    Object.entries(props.shoppingList.categorias).forEach(\n      ([key, categoria]) => {\n        if (categoria.items && categoria.items.length > 0) {\n          exportText += `\\n${categoria.nombre.toUpperCase()}:\\n`;\n          categoria.items.forEach((item, index) => {\n            const itemId = `${key}-${index}`;\n            if (!checkedItems.value.has(itemId)) {\n              exportText += `☐ ${item}\\n`;\n            }\n          });\n        }\n      }\n    );\n  } else if (props.shoppingList.items) {\n    props.shoppingList.items.forEach((item, index) => {\n      const itemId = `item-${index}`;\n      if (!checkedItems.value.has(itemId)) {\n        exportText += `☐ ${item}\\n`;\n      }\n    });\n  }\n\n  if (checkedItems.value.size > 0) {\n    exportText += \"\\nPRODUCTOS COMPLETADOS:\\n\";\n\n    if (props.groupByCategory && props.shoppingList.categorias) {\n      Object.entries(props.shoppingList.categorias).forEach(\n        ([key, categoria]) => {\n          if (categoria.items && categoria.items.length > 0) {\n            const completedInCategory = categoria.items.filter((_, index) =>\n              checkedItems.value.has(`${key}-${index}`)\n            );\n\n            if (completedInCategory.length > 0) {\n              exportText += `\\n${categoria.nombre.toUpperCase()}:\\n`;\n              categoria.items.forEach((item, index) => {\n                const itemId = `${key}-${index}`;\n                if (checkedItems.value.has(itemId)) {\n                  exportText += `☑ ${item}\\n`;\n                }\n              });\n            }\n          }\n        }\n      );\n    } else if (props.shoppingList.items) {\n      props.shoppingList.items.forEach((item, index) => {\n        const itemId = `item-${index}`;\n        if (checkedItems.value.has(itemId)) {\n          exportText += `☑ ${item}\\n`;\n        }\n      });\n    }\n  }\n\n  // Create and download file\n  const blob = new Blob([exportText], { type: \"text/plain\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = `lista-compras-${new Date().toISOString().split(\"T\")[0]}.txt`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n\n  alert(\"Lista de compras exportada exitosamente\");\n};\n</script>\n\n<style scoped>\n.shopping-list-result {\n  margin-top: 20px;\n}\n\n.shopping-summary {\n  background: #e8f5e8;\n  padding: 20px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.shopping-summary h3 {\n  color: #333;\n  margin-bottom: 15px;\n  font-size: 1.3rem;\n}\n\n.summary-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 15px;\n  margin-top: 15px;\n}\n\n.stat-item {\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.stat-number {\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: #28a745;\n  display: block;\n}\n\n.stat-label {\n  font-size: 0.9rem;\n  color: #666;\n  margin-top: 5px;\n}\n\n.shopping-list-card {\n  background: white;\n  border-radius: 10px;\n  padding: 25px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  border-left: 5px solid #28a745;\n}\n\n.shopping-list-card > h3 {\n  color: #333;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n}\n\n.shopping-category {\n  margin-bottom: 25px;\n}\n\n.shopping-category h4 {\n  color: #28a745;\n  margin-bottom: 15px;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.shopping-items {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 10px;\n}\n\n.shopping-item {\n  display: flex;\n  align-items: center;\n  padding: 10px 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n  transition: all 0.3s ease;\n}\n\n.shopping-item:hover {\n  background: #e9ecef;\n  transform: translateY(-1px);\n}\n\n.shopping-item.checked {\n  background: #d4edda;\n  border-color: #c3e6cb;\n  text-decoration: line-through;\n  opacity: 0.7;\n}\n\n.shopping-checkbox {\n  margin-right: 12px;\n  cursor: pointer;\n}\n\n.shopping-item-text {\n  flex: 1;\n  font-size: 0.95rem;\n}\n\n.shopping-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n  flex-wrap: wrap;\n}\n\n.action-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 0.95rem;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.action-btn.primary {\n  background: #667eea;\n  color: white;\n}\n\n.action-btn.primary:hover {\n  background: #5a6fd8;\n}\n\n.action-btn.secondary {\n  background: #6c757d;\n  color: white;\n}\n\n.action-btn.secondary:hover {\n  background: #5a6268;\n}\n\n.action-btn.success {\n  background: #28a745;\n  color: white;\n}\n\n.action-btn.success:hover {\n  background: #218838;\n}\n\n@media (max-width: 768px) {\n  .shopping-items {\n    grid-template-columns: 1fr;\n  }\n\n  .summary-stats {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .shopping-actions {\n    flex-direction: column;\n  }\n\n  .action-btn {\n    justify-content: center;\n  }\n}\n</style>\n","import { useApiStore } from \"@/stores/api\";\nimport { useAppStore } from \"@/stores/app\";\nimport { useRecipesStore } from \"@/stores/recipes\";\nimport { useIngredientsStore } from \"@/stores/ingredients\";\n\nexport function useShoppingListGenerator() {\n  const apiStore = useApiStore();\n  const appStore = useAppStore();\n  const recipesStore = useRecipesStore();\n  const ingredientsStore = useIngredientsStore();\n\n  const generateShoppingList = async (options) => {\n    if (recipesStore.selectedRecipesForShopping.length === 0) {\n      throw new Error(\n        \"Por favor selecciona al menos una receta para generar la lista de compras\"\n      );\n    }\n\n    appStore.setLoading(true);\n\n    try {\n      // Get selected recipes\n      const selectedRecipes = recipesStore.savedRecipes.filter((recipe) =>\n        recipesStore.selectedRecipesForShopping.includes(recipe.id)\n      );\n\n      // Extract all ingredients from selected recipes\n      let allIngredients = [];\n      selectedRecipes.forEach((recipe) => {\n        if (recipe.data.ingredientes) {\n          allIngredients = allIngredients.concat(recipe.data.ingredientes);\n        }\n      });\n\n      const prompt = `\n        Eres un asistente experto en compras de supermercado. Necesito que generes una lista de compras inteligente basada en los siguientes ingredientes de recetas:\n\n        INGREDIENTES DE LAS RECETAS:\n        ${allIngredients.map((ing, index) => `${index + 1}. ${ing}`).join(\"\\n\")}\n\n        ${options.excludeInventory ? `\\nMIS INGREDIENTES ACTUALES (excluir estos ingredientes):\\n${ingredientsStore.ingredients.map((item) => `- ${item}`).join(\"\\n\")}` : \"\"}\n\n        INSTRUCCIONES:\n        1. Analiza todos los ingredientes y crea una lista de compras optimizada\n        2. Combina ingredientes similares (ej: si aparece \"tomate - 2 unidades\" y \"tomate - 1 unidad\", combinar como \"tomate - 3 unidades\")\n        3. ${options.excludeInventory ? \"Excluye los ingredientes que ya tengo disponibles\" : \"Incluye todos los ingredientes\"}\n        4. ${options.includeBasics ? \"Incluye ingredientes básicos comunes (sal, pimienta, aceite) si no están listados\" : \"No agregues ingredientes básicos adicionales\"}\n        5. ${options.groupByCategory ? \"Agrupa los ingredientes por categorías de supermercado\" : \"Lista todos los ingredientes juntos\"}\n        6. Optimiza las cantidades para evitar desperdicios\n        7. Sugiere alternativas o marcas cuando sea apropiado\n\n        IMPORTANTE: Responde ÚNICAMENTE con un JSON válido, sin texto adicional. Usa esta estructura:\n        ${\n          options.groupByCategory\n            ? `{\n          \"resumen\": {\n              \"totalItems\": 0,\n              \"categorias\": 0,\n              \"recetasIncluidas\": ${selectedRecipes.length}\n          },\n          \"categorias\": {\n              \"carnes_pescados\": {\n                  \"nombre\": \"Carnes y Pescados\",\n                  \"icono\": \"fas fa-drumstick-bite\",\n                  \"items\": [\"item - cantidad\"]\n              },\n              \"vegetales_frutas\": {\n                  \"nombre\": \"Vegetales y Frutas\",\n                  \"icono\": \"fas fa-apple-alt\",\n                  \"items\": [\"item - cantidad\"]\n              },\n              \"lacteos_huevos\": {\n                  \"nombre\": \"Lácteos y Huevos\",\n                  \"icono\": \"fas fa-cheese\",\n                  \"items\": [\"item - cantidad\"]\n              },\n              \"cereales_granos\": {\n                  \"nombre\": \"Cereales y Granos\",\n                  \"icono\": \"fas fa-seedling\",\n                  \"items\": [\"item - cantidad\"]\n              },\n              \"condimentos_especias\": {\n                  \"nombre\": \"Condimentos y Especias\",\n                  \"icono\": \"fas fa-pepper-hot\",\n                  \"items\": [\"item - cantidad\"]\n              },\n              \"otros\": {\n                  \"nombre\": \"Otros\",\n                  \"icono\": \"fas fa-shopping-basket\",\n                  \"items\": [\"item - cantidad\"]\n              }\n          }\n      }`\n            : `{\n          \"resumen\": {\n              \"totalItems\": 0,\n              \"recetasIncluidas\": ${selectedRecipes.length}\n          },\n          \"items\": [\"item - cantidad\", \"item - cantidad\"]\n      }`\n        }\n      `;\n\n      const response = await apiStore.callGeminiAPI(prompt);\n\n      // Clean response\n      let cleanResponse = response.trim();\n      if (cleanResponse.startsWith(\"```json\")) {\n        cleanResponse = cleanResponse\n          .replace(/```json\\n?/, \"\")\n          .replace(/\\n?```$/, \"\");\n      }\n      if (cleanResponse.startsWith(\"```\")) {\n        cleanResponse = cleanResponse\n          .replace(/```\\n?/, \"\")\n          .replace(/\\n?```$/, \"\");\n      }\n\n      const shoppingList = JSON.parse(cleanResponse);\n      return shoppingList;\n    } catch (error) {\n      console.error(\"Error al generar la lista de compras:\", error);\n      throw error;\n    } finally {\n      appStore.setLoading(false);\n    }\n  };\n\n  return {\n    generateShoppingList,\n  };\n}\n","<template>\n  <div class=\"shopping-list\">\n    <header class=\"section-header\">\n      <h2><i class=\"fas fa-shopping-cart\"></i> Lista de Compras Inteligente</h2>\n      <p>\n        Genera automáticamente tu lista de compras basada en las recetas y tus\n        ingredientes actuales\n      </p>\n    </header>\n\n    <div class=\"shopping-controls\">\n      <SavedRecipesList />\n\n      <ShoppingOptions\n        v-model:include-basics=\"shoppingOptions.includeBasics\"\n        v-model:group-by-category=\"shoppingOptions.groupByCategory\"\n        v-model:exclude-inventory=\"shoppingOptions.excludeInventory\"\n      />\n\n      <button\n        class=\"generate-btn\"\n        :disabled=\"!canGenerateList || appStore.isLoading\"\n        aria-label=\"Generar lista de compras\"\n        @click=\"handleGenerateShoppingList\"\n      >\n        <i class=\"fas fa-list-alt\"></i>\n        {{ appStore.isLoading ? \"Generando...\" : \"Generar Lista de Compras\" }}\n      </button>\n    </div>\n\n    <ShoppingListResult\n      v-if=\"shoppingListData\"\n      :shopping-list=\"shoppingListData\"\n      :group-by-category=\"shoppingOptions.groupByCategory\"\n      @clear=\"clearShoppingList\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport SavedRecipesList from \"@/components/features/SavedRecipesList.vue\";\nimport ShoppingOptions from \"@/components/ui/ShoppingOptions.vue\";\nimport ShoppingListResult from \"@/components/features/ShoppingListResult.vue\";\nimport { useShoppingListGenerator } from \"@/composables/useShoppingListGenerator\";\nimport { useRecipesStore } from \"@/stores/recipes\";\nimport { useAppStore } from \"@/stores/app\";\n\nconst recipesStore = useRecipesStore();\nconst appStore = useAppStore();\nconst shoppingListGenerator = useShoppingListGenerator();\n\nconst shoppingOptions = ref({\n  includeBasics: true,\n  groupByCategory: true,\n  excludeInventory: true,\n});\n\nconst shoppingListData = ref(null);\n\nconst canGenerateList = computed(\n  () => recipesStore.selectedRecipesForShopping.length > 0\n);\n\nconst handleGenerateShoppingList = async () => {\n  try {\n    const result = await shoppingListGenerator.generateShoppingList(\n      shoppingOptions.value\n    );\n    shoppingListData.value = result;\n  } catch (error) {\n    alert(error.message);\n  }\n};\n\nconst clearShoppingList = () => {\n  if (confirm(\"¿Estás seguro de que quieres limpiar la lista de compras?\")) {\n    shoppingListData.value = null;\n    recipesStore.selectedRecipesForShopping.length = 0;\n  }\n};\n</script>\n\n<style scoped>\n.shopping-list {\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n}\n\n.section-header h2 {\n  color: #333;\n  margin-bottom: 10px;\n  font-size: 1.8rem;\n}\n\n.section-header p {\n  color: #666;\n  margin-bottom: 0;\n  font-size: 1.1rem;\n}\n\n.shopping-controls {\n  background: #f8f9fa;\n  padding: 25px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n}\n\n.generate-btn {\n  width: 100%;\n  padding: 15px 30px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n}\n\n.generate-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n}\n\n.generate-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.generate-btn i {\n  margin-right: 10px;\n}\n</style>\n","<template>\n  <main class=\"main-app\">\n    <AppTabs />\n    \n    <section \n      v-show=\"appStore.currentTab === 'recipe-creator'\" \n      class=\"tab-content\"\n      role=\"tabpanel\"\n      aria-labelledby=\"recipe-creator-tab\"\n    >\n      <RecipeCreator />\n    </section>\n\n    <section \n      v-show=\"appStore.currentTab === 'shopping-list'\" \n      class=\"tab-content\"\n      role=\"tabpanel\"\n      aria-labelledby=\"shopping-list-tab\"\n    >\n      <ShoppingList />\n    </section>\n  </main>\n</template>\n\n<script setup>\nimport AppTabs from '@/components/navigation/AppTabs.vue'\nimport RecipeCreator from '@/components/features/RecipeCreator.vue'\nimport ShoppingList from '@/components/features/ShoppingList.vue'\nimport { useAppStore } from '@/stores/app'\n\nconst appStore = useAppStore()\n</script>\n\n<style scoped>\n.main-app {\n  background: white;\n  border-radius: 15px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n}\n\n.tab-content {\n  padding: 30px;\n}\n\n@media (max-width: 768px) {\n  .tab-content {\n    padding: 20px;\n  }\n}\n</style>\n"],"names":["appStore","useAppStore","apiStore","useApiStore","showSettings","newKey","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_normalizeClass","_unref","_cache","$event","_hoisted_5","useIngredientsStore","defineStore","getItem","setItem","useLocalStorage","ingredients","ref","ingredient","normalizedIngredient","index","categories","categorized","categorized_flag","category","items","ingredientsStore","newIngredient","handleAddIngredient","handleClearAll","_hoisted_4","_hoisted_6","_hoisted_7","_Fragment","_hoisted_8","_toDisplayString","emit","__emit","mealTypes","selectMeal","mealType","_renderList","meal","__props","props","mealIcons","mealLabels","mealIcon","computed","mealTypeLabel","_createTextVNode","_hoisted_9","_hoisted_10","instruction","_hoisted_11","_hoisted_12","useRecipesStore","savedRecipes","selectedRecipesForShopping","recipe","type","recipeData","recipeId","id","useRecipeGenerator","recipesStore","selectedMealType","generatedRecipe","allIngredients","mealTypeGuidelines","prompt","cleanResponse","error","recipeGenerator","canGenerateRecipe","handleGenerateRecipe","_createVNode","IngredientsList","MealTypeSelector","_createBlock","RecipeCard","isSelected","formatDate","dateString","handleDeleteRecipe","r","$emit","checkedItems","toggleItem","itemId","markAllCompleted","getAllItemIds","key","categoria","_","exportShoppingList","exportText","item","blob","url","a","_hoisted_13","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_21","_hoisted_22","useShoppingListGenerator","options","selectedRecipes","ing","shoppingListGenerator","shoppingOptions","shoppingListData","canGenerateList","handleGenerateShoppingList","result","clearShoppingList","SavedRecipesList","ShoppingOptions","ShoppingListResult","AppTabs","_withDirectives","RecipeCreator","_vShow","ShoppingList"],"mappings":"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"}